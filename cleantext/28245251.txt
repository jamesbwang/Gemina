  This paper presents results of an artificial stock market and tries to make it more consistent with the statistical features of real stock data. Based on the SFI-ASM , a novel model is proposed to make agents more close to the real world. Agents are divided into four kinds in terms of different learning speeds , strategy-sizes , utility functions , and level of intelligence; and a crucial parameter has been found to ensure system stability. So , some parameters are appended to make the model which contains zero-intelligent and less-intelligent agents run steadily. Moreover , considering real stock markets change violently due to the financial crisis; the real stock markets are divided into two segments , before the financial crisis and after it. The optimal modified model before the financial crisis fails to replicate the statistical features of the real market after the financial crisis. Then , the optimal model after the financial crisis is shown. The experiments indicate that the optimal model after the financial crisis is able to replicate several of real market phenomena , including the first-order autocorrelation , kurtosis , standard deviation of yield series and first-order autocorrelation of yield square. We point out that there is a structural change in stock markets after the financial crisis , which can benefit people forecast the financial crisis.