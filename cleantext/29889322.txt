  An experimental design , based on a combination of core-shell-structured upconversion nanoparticles and diarylethene photochromic molecules , for achieving rewritable optical memory is reported. This core-shell design enables the nanoparticles to emit two sets of distinct emission bands with ultrahigh spectral purity through laser excitation at 980 and 1532 nm. Importantly , the ultraviolet emission of the nanoparticles under 980 nm irradiation is used to activate the cyclization reaction of diarylethene through C C bond formation , while the green emission from the nanoparticles upon 1532 nm excitation leads to the cleavage of the newly formed C C bond. This pathway offers a convenient and versatile optical method for controlling the process of data writing and erasing with high spatiotemporal resolution.