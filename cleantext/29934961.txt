  To evaluate the association between metformin use and heart<symptom> failure<symptom> ( HF) exacerbation in people with type 2 diabetes ( T2D) and pre-existing HF using alternative exposure models. We analysed data for patients with T2D and incident HF from a national US insurance claims database. We compared the results of several multivariable Cox models where time-varying use of metformin was modelled as: ( 1) current use; ( 2) total duration of past use; and ( 3) use within the past 30 days or 10 days. The outcome was defined as time to HF-related hospitalization. We then re-analysed the data using flexible weighted cumulative exposure ( WCE) models. A total of 7620 patients with diabetes and incident HF were analysed. The mean ( SD) patient age was 54 ( 8) years , and 58 % ( n = 4440) were men. In all , 3799 individuals ( 50 %) were exposed to metformin , and 837 HF hospitalizations ( 11 %) occurred ( mean follow-up 1.7 years). Results of conventional models suggested potential acute benefits in reducing HF exacerbation with metformin use in the past 10 days ( adjusted hazard ratio ( aHR) 0.76 , 95 % confidence interval ( CI) 0.60-0.97) , while WCE models , which provided a better fit for the data , suggested lack of a systematic effect ( aHR 0.91 , 95 % CI 0.69-1.20). Our results suggest that cumulative metformin exposure does not decrease the risk of HF-related exacerbation. Use of other anti-hyperglycaemic agents with proven efficacy in patients with HF should also be considered as treatment options in this population.