  In this paper , an extended heterogeneous SIR model is proposed , which generalizes the heterogeneous mean-field theory. Different from the traditional heterogeneous mean-field model only taking into account the heterogeneity of degree , our model considers not only the heterogeneity of degree but also the heterogeneity of susceptibility and recovery rates. Then , we analytically study the basic reproductive number and the final epidemic size. Combining with numerical simulations , it is found that the basic reproductive number depends on the mean of distributions of susceptibility and disease course when both of them are independent. If the mean of these two distributions is identical , increasing the variance of susceptibility may block the spread of epidemics , while the corresponding increase in the variance of disease course has little effect on the final epidemic size. It is also shown that positive correlations between individual susceptibility , course of disease and the square of degree make the population more vulnerable to epidemic and avail to the epidemic prevalence , whereas the negative correlations make the population less vulnerable and impede the epidemic prevalence.