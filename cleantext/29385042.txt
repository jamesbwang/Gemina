  Indoor location and intelligent control system can bring convenience to people & rsquo; s daily life. In this paper , an indoor control system is designed to achieve equipment remote control by using low-energy Bluetooth ( BLE) beacon and Internet of Things ( IoT) technology. The proposed system consists of five parts: web server , home gateway , smart terminal , smartphone app and BLE beacons. In the web server , fingerprint matching based on RSSI stochastic characteristic and posture<symptom> recognition model based on geomagnetic sensing are used to establish a more efficient equipment control system , combined with Pedestrian Dead Reckoning ( PDR) technology to improve the accuracy of location. A personalized menu of remote & ldquo; one-click & rdquo; control is finally offered to users in a smartphone app. This smart home control system has been implemented by hardware , and precision and stability tests have been conducted , which proved the practicability and good user experience of this solution.