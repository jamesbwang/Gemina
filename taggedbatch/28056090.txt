 Template-based modeling , including homology modeling and protein threading , is a popular method for protein 3D structure prediction. However , alignment generation and template selection for protein sequences without close templates remain very challenging. We present a new method called DeepThreader to improve protein threading , including both alignment generation and template selection , by making use of deep learning ( DL) and residue co-variation information. Our method first employs DL to predict inter-residue distance distribution from residue co-variation and sequential information ( e.g. sequence profile and predicted secondary structure) , and then builds sequence-template alignment by integrating predicted distance information and sequential features through an ADMM algorithm. Experimental results suggest that predicted inter-residue distance is helpful to both protein alignment and template selection especially for protein sequences without very close templates , and that our method outperforms currently popular homology modeling method HHpred and threading method CNFpred by a large margin and greatly outperforms the latest contact-assisted protein threading method EigenTHREADER. http://raptorx.uchicago.edu/. Supplementary data are available at Bioinformatics online.